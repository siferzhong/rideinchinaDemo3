# PWA 安装指南 - 获得原生App体验

## 📱 什么是 PWA？

PWA (Progressive Web App) 可以让你的网页应用像原生App一样运行：
- ✅ 添加到主屏幕，像App一样启动
- ✅ 全屏显示，无浏览器地址栏
- ✅ 离线访问（已缓存的内容）
- ✅ 更快的启动速度
- ✅ 支持推送通知（未来）

## 🍎 iPhone/iPad (Safari)

### 方法一：通过分享按钮（推荐）

1. 在 Safari 中打开应用
2. 点击底部的 **分享按钮** <i class="fa-solid fa-share"></i>（方形图标，向上箭头）
3. 向下滚动，找到并点击 **"添加到主屏幕"**
4. 点击右上角 **"添加"**
5. 完成！现在可以从主屏幕启动应用了

### 方法二：通过设置

1. 打开 Safari
2. 访问应用网址
3. 点击地址栏左侧的 **锁图标** 🔒
4. 选择 **"添加到主屏幕"**

## 🤖 Android (Chrome)

### 自动提示安装

1. 在 Chrome 中打开应用
2. 等待几秒，会弹出 **"安装应用"** 提示
3. 点击 **"安装"** 或 **"添加"**
4. 应用会自动添加到主屏幕

### 手动安装

1. 在 Chrome 中打开应用
2. 点击右上角 **菜单** (三个点)
3. 选择 **"添加到主屏幕"** 或 **"安装应用"**
4. 确认安装

## ✨ 安装后的体验

安装后，应用会：
- 🚀 像原生App一样启动（无浏览器界面）
- 📱 全屏显示，沉浸式体验
- ⚡ 更快的加载速度（缓存资源）
- 🔄 支持后台更新
- 📍 更好的定位权限（已安装的应用）

## 🔧 测试 PWA 功能

### 检查是否已安装

- **iOS**: 如果应用以全屏模式运行（无Safari地址栏），说明已安装
- **Android**: 检查主屏幕是否有应用图标

### 卸载

- **iOS**: 长按主屏幕图标，选择"删除App"
- **Android**: 长按图标，拖到"卸载"

## 🐛 常见问题

### Q: 为什么看不到安装提示？
A: 
- 确保使用 HTTPS 或 localhost
- iOS Safari 需要手动通过分享按钮添加
- Android Chrome 会自动显示提示（如果满足PWA条件）

### Q: 安装后还是显示浏览器界面？
A: 
- iOS: 确保从主屏幕启动，而不是从Safari书签
- Android: 确保从主屏幕图标启动

### Q: 定位功能在PWA中工作吗？
A: 
- ✅ 是的！PWA中的定位权限更稳定
- 首次使用时需要授权定位权限
- 已安装的PWA有更好的权限管理

## 📝 开发者说明

### PWA 配置检查清单

- ✅ `manifest.json` 已配置
- ✅ Service Worker 已注册（离线支持）
- ✅ 图标已设置（多种尺寸）
- ✅ 主题色已配置
- ✅ iOS Safari 元标签已添加

### 测试 PWA

1. **本地测试**: `npm run dev` → 访问 `http://localhost:3000`
2. **HTTPS测试**: 使用 ngrok 或部署到服务器
3. **真机测试**: 确保手机和电脑在同一WiFi，访问 `http://你的IP:3000`

### 部署到生产环境

1. 构建项目: `npm run build`
2. 部署 `dist/` 文件夹到支持HTTPS的服务器
3. 确保 `manifest.json` 和 `sw.js` 可访问
4. 测试PWA安装流程

---

**提示**: 在开发环境中，PWA功能可能受限。建议部署到HTTPS服务器进行完整测试。
